{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setCurrentUser } from \"../../state/users/userActions\";\nimport Redirect from \"../../components/Redirect\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function Index() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var dispatch = useDispatch();\n  morgan(':method :url :status :res[content-length] - :response-time ms');\n  useEffect(function () {\n    if (user) {\n      dispatch(setCurrentUser(user));\n    }\n  }, [user]);\n  return _jsx(RedirectUser, {\n    user: user\n  });\n}\n\nvar RedirectUser = function RedirectUser(_ref) {\n  var user = _ref.user;\n\n  switch (user.role) {\n    case \"staff\":\n      return _jsx(Redirect, {\n        to: \"staff\"\n      });\n\n    case \"guest\":\n      return _jsx(Redirect, {\n        to: user.intake.status === 'completed' ? \"guest\" : 'Intake',\n        params: {\n          userId: user._id\n        }\n      });\n\n    default:\n      return _jsx(Redirect, {\n        to: \"Home\"\n      });\n  }\n};","map":{"version":3,"sources":["/home/isaiah/dev/sms/services/client/screens/HomeScreen/HomeScreen.tsx"],"names":["React","useEffect","useState","useDispatch","setCurrentUser","Redirect","Index","user","setUser","dispatch","morgan","RedirectUser","role","intake","status","userId","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAIA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,cAAT;AACA,OAAOC,QAAP;;AAGA,eAAe,SAASC,KAAT,GAAiB;AAE9B,kBAAwBJ,QAAQ,EAAhC;AAAA;AAAA,MAAOK,IAAP;AAAA,MAAaC,OAAb;;AAEA,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;AAGAO,EAAAA,MAAM,CAAC,+DAAD,CAAN;AAGAT,EAAAA,SAAS,CAAC,YAAM;AACd,QAAGM,IAAH,EAAS;AACPE,MAAAA,QAAQ,CAACL,cAAc,CAACG,IAAD,CAAf,CAAR;AACD;AACF,GAJQ,EAIN,CAACA,IAAD,CAJM,CAAT;AAMA,SACE,KAAC,YAAD;AAAc,IAAA,IAAI,EAAEA;AAApB,IADF;AAGD;;AAED,IAAMI,YAAY,GAAG,SAAfA,YAAe,OAAc;AAAA,MAAXJ,IAAW,QAAXA,IAAW;;AACjC,UAAQA,IAAI,CAACK,IAAb;AACE,SAAK,OAAL;AACE,aAAO,KAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb,QAAP;;AAEF,SAAK,OAAL;AACE,aAAO,KAAC,QAAD;AAAU,QAAA,EAAE,EAAEL,IAAI,CAACM,MAAL,CAAYC,MAAZ,KAAuB,WAAvB,GAAqC,OAArC,GAA+C,QAA7D;AAAuE,QAAA,MAAM,EAAE;AAAEC,UAAAA,MAAM,EAAER,IAAI,CAACS;AAAf;AAA/E,QAAP;;AAEF;AACE,aAAO,KAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb,QAAP;AARJ;AAUD,CAXD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { View, Text } from \"react-native\";\n\nimport { useGetCurrentUserQuery } from \"../../auth/users/useGetCurrentUserQuery\";\nimport { useDispatch } from \"react-redux\";\nimport { setCurrentUser } from \"../../state/users/userActions\";\nimport Redirect from \"../../components/Redirect\";\n\n\nexport default function Index() {\n\n  const [user, setUser] = useState()\n\n  const dispatch = useDispatch();\n\n\n  morgan(':method :url :status :res[content-length] - :response-time ms')\n\n\n  useEffect(() => {\n    if(user) {\n      dispatch(setCurrentUser(user));\n    }\n  }, [user]);\n\n  return (\n    <RedirectUser user={user} />\n  );\n}\n\nconst RedirectUser = ({ user }) => {\n  switch (user.role) {\n    case \"staff\":\n      return <Redirect to=\"staff\" />;\n\n    case \"guest\":\n      return <Redirect to={user.intake.status === 'completed' ? \"guest\" : 'Intake'} params={{ userId: user._id }}  />;\n\n    default:\n      return <Redirect to=\"Home\" />;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}